import{a as N,h as D,i as L,l as G,m as H,o as W,p as q,s as J,u as K}from"./chunk-CRMNYVNJ.js";import{$ as w,B as l,C as d,D as t,E as r,Eb as V,F as m,Fb as j,Gb as R,J as C,K as s,Ka as y,L as f,Nb as B,S as p,c as T,fa as O,ha as P,hb as A,ib as E,j as _,k as g,ka as I,q as k,qa as M,r as i,s as v,sb as U,ta as S,tb as F,u as x,xb as z,y as h}from"./chunk-XGKQ7DCH.js";var Q=a=>({"tabs-arriba":a});function X(a,c){if(a&1){let b=C();t(0,"div",10)(1,"ion-button",11),s("click",function(){_(b);let o=f();return g(o.goToAjustes())}),p(2,"Ajustes"),r(),t(3,"ion-button",12),s("click",function(){_(b);let o=f();return g(o.logOut())}),p(4,"Cerrar sesi\xF3n"),r()()}}function Y(a,c){if(a&1){let b=C();t(0,"ion-tab-button",8),s("click",function(){_(b);let o=f();return g(o.navigateTo("/home"))}),t(1,"ion-title")(2,"b"),p(3,"GesPe"),r()()()}}var pe=(()=>{let c=class c{constructor(n,o){this.navCtrl=n,this.router=o,this.currentRoute="",this.esEscritorio=!1,this.menuAbierto=!1,this.avatarUrl=null,N({fileTrayFullOutline:H,peopleOutline:K,cubeOutline:L,fileTrayFull:G,people:J,cube:D,home:W,homeOutline:q}),this.currentRoute=window.location.pathname}ngOnInit(){this.router.events.pipe(T(n=>n instanceof M)).subscribe(n=>{this.currentRoute=n.urlAfterRedirects}),this.checkScreen(),window.addEventListener("resize",this.checkScreen.bind(this)),this.loadAvatar()}checkScreen(){this.esEscritorio=window.innerWidth>=1024}navigateTo(n){this.navCtrl.navigateForward(n,{animated:!1}),this.currentRoute=n}isActive(n){return this.currentRoute===n}loadAvatar(){this.avatarUrl=localStorage.getItem("avatarUrl"),this.avatarUrl||(this.avatarUrl="https://ionicframework.com/docs/img/demos/avatar.svg")}goToAjustes(){this.router.navigate(["/ajustes"])}logOut(){localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),localStorage.removeItem("role"),localStorage.removeItem("avatarUrl"),this.router.navigateByUrl("/login").then(()=>{window.location.reload()})}};c.\u0275fac=function(o){return new(o||c)(v(y),v(S))},c.\u0275cmp=x({type:c,selectors:[["app-tabs"]],decls:24,vars:18,consts:[["vertical","top","horizontal","end","slot","fixed",1,"avatar"],[1,"boton-opciones",2,"padding","0","overflow","visible",3,"click"],[2,"height","40px","width","40px"],["alt","Avatar",3,"src"],["class","menu-opciones",4,"ngIf"],[3,"ngClass"],["slot","bottom"],[3,"click",4,"ngIf"],[3,"click"],[3,"name"],[1,"menu-opciones"],["fill","clear","expand","block",2,"border-bottom","1px solid grey","margin-inline","20px",3,"click"],["fill","clear","expand","block","color","danger",2,"margin-top","5px",3,"click"]],template:function(o,e){o&1&&(t(0,"ion-fab",0)(1,"ion-fab-button",1),s("click",function(){return e.menuAbierto=!e.menuAbierto}),t(2,"ion-avatar",2),m(3,"img",3),r()(),h(4,X,5,0,"div",4),r(),t(5,"div",5)(6,"ion-tab-bar",6),h(7,Y,4,0,"ion-tab-button",7),t(8,"ion-tab-button",8),s("click",function(){return e.navigateTo("/home")}),m(9,"ion-icon",9),t(10,"ion-label"),p(11,"Home"),r()(),t(12,"ion-tab-button",8),s("click",function(){return e.navigateTo("/pedidos")}),m(13,"ion-icon",9),t(14,"ion-label"),p(15,"Pedidos"),r()(),t(16,"ion-tab-button",8),s("click",function(){return e.navigateTo("/clientes")}),m(17,"ion-icon",9),t(18,"ion-label"),p(19,"Clientes"),r()(),t(20,"ion-tab-button",8),s("click",function(){return e.navigateTo("/productos")}),m(21,"ion-icon",9),t(22,"ion-label"),p(23,"Productos"),r()()()()),o&2&&(i(3),l("src",e.avatarUrl,k),i(),l("ngIf",e.menuAbierto),i(),l("ngClass",w(16,Q,e.esEscritorio)),i(2),l("ngIf",e.esEscritorio),i(),d("selected",e.isActive("/home")),i(),l("name",e.isActive("/home")?"home":"home-outline"),i(3),d("selected",e.isActive("/pedidos")),i(),l("name",e.isActive("/pedidos")?"file-tray-full":"file-tray-full-outline"),i(3),d("selected",e.isActive("/clientes")),i(),l("name",e.isActive("/clientes")?"people":"people-outline"),i(3),d("selected",e.isActive("/productos")),i(),l("name",e.isActive("/productos")?"cube":"cube-outline"))},dependencies:[V,j,z,B,I,O,P,R,E,A,U,F],styles:['@charset "UTF-8";ion-tab-button.selected[_ngcontent-%COMP%]{background-color:#818181bf;border-radius:30px;padding-left:15px;padding-right:15px;transition:background-color .3s ease,color .3s ease}.tabs-arriba[_ngcontent-%COMP%]   ion-tab-bar[_ngcontent-%COMP%]{position:fixed;top:0;bottom:auto;width:100%;z-index:1000;justify-content:flex-start}.tabs-arriba[_ngcontent-%COMP%]   ion-content[_ngcontent-%COMP%]{padding-top:56px}.tabs-arriba[_ngcontent-%COMP%]   ion-tab-button.selected[_ngcontent-%COMP%]{border-radius:0}@media (prefers-color-scheme: light){ion-tab-button[_ngcontent-%COMP%]{color:#000}.tabs-arriba[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{display:none}.tabs-arriba[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{font-size:20px;font-weight:500;margin-top:5px}}@media (prefers-color-scheme: dark){ion-tab-button[_ngcontent-%COMP%]{color:#fff}.tabs-arriba[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{display:none}.tabs-arriba[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{font-size:20px;font-weight:500;margin-top:5px}}.boton-opciones[_ngcontent-%COMP%]{--background: transparent;--border-radius: 15px;--box-shadow: none !important;--border: none !important;--color: white}.menu-opciones[_ngcontent-%COMP%]{position:absolute;top:56px;right:0;background:var(--ion-background-color, white);box-shadow:0 4px 12px #00000026;border-radius:8px;border:1px solid grey;width:160px;padding:8px 0;z-index:10000}.avatar[_ngcontent-%COMP%]{position:fixed;top:.1rem;right:1rem;z-index:1001}']});let a=c;return a})();export{pe as a};
